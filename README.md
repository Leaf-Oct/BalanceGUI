# 收支记录

十月叶自用的银行卡收支记录软件客户端，服务端采用MongoDB存储收支数据(后续可能会升级为SQL数据库)。

客户端采用Go语言编写，~~还在go 还在go~~ GUI库采用fyne，主要功能为根据配置文件连接数据库，让用户手动输入日期，开支和对应描述，存入数据库中

## 配置文件

编译后的可执行文件，需要在同一目录下放置两个文本文件，一个是balance_file，一个是config

### balance_file

纯文本文件，里面就放一个数据的字符串，而不是字节形式。这个数据表示上次记录完后的余额，每次正常关闭应用的时候会更新。内容示例如下

> 1145.14

### config

配置文件，因为内容少所以格式上不是那么正式，基本只包含四行。

第一行是ip地址(或加端口)

第二行是用户名

第三行是密码

第四行是登录数据库

最终会根据这几个信息构造出登录数据库的url，例如内容如下

> 127.0.0.1:2333
>
> root
> 
> password
>
> admin

最终登录url会构造为 `mongodb://root:password@127.0.0.1:2333/admin`

## 编译

```bash
go build
```

如要编译release版

```bash
go build -ldflags "-s"
```

因为该客户端目前开发和使用环境是Ubuntu，故release中只提供了编译好的linux下可执行文件，如有其它平台的需要请自行编译。